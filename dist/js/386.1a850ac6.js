"use strict";(self["webpackChunkshanpinhui"]=self["webpackChunkshanpinhui"]||[]).push([[386],{3386:function(t,a,s){s.r(a),s.d(a,{default:function(){return m}});var e=function(){var t=this,a=t._self._c;return a("div",[a("myTypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.data.categoryName,expression:"data.categoryName"}],staticClass:"with-x"},[t._v(t._s(t.data.categoryName)),a("i",{on:{click:t.deleteCateName}},[t._v("×")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:t.data.trademark,expression:"data.trademark"}],staticClass:"with-x"},[t._v(t._s(t.data.trademark.split(":")[1])),a("i",{on:{click:t.deleteTrade}},[t._v("×")])]),t._l(t.data.props,(function(s,e){return a("li",{key:e,staticClass:"with-x"},[t._v(t._s(s.split(":")[1])),a("i",{on:{click:function(a){return t.deleteProps(e)}}},[t._v("×")])])}))],2)]),a("SearchSelector",{on:{changeTrade:t.changeTrade,changePros:t.changePros}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.isPrice.isComp}},[a("a",{attrs:{href:"javaScript:;"},on:{click:function(a){return t.changeOrder("1")}}},[t._v("综合"),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isDesc.ascFlag&&t.isPrice.isComp,expression:"isDesc.ascFlag&&isPrice.isComp"}],staticClass:"iconfont icon-arrow-up-circle"}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isDesc.descFlag&&t.isPrice.isComp,expression:"isDesc.descFlag&&isPrice.isComp"}],staticClass:"iconfont icon-direction-down-circle"})])]),a("li",{class:{active:t.isPrice.isPri}},[a("a",{attrs:{href:"javaScript:;"},on:{click:function(a){return t.changeOrder("2")}}},[t._v("价格"),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isDesc.ascFlag&&t.isPrice.isPri,expression:"isDesc.ascFlag&&isPrice.isPri"}],staticClass:"iconfont icon-arrow-up-circle"}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.isDesc.descFlag&&t.isPrice.isPri,expression:"isDesc.descFlag&&isPrice.isPri"}],staticClass:"iconfont icon-direction-down-circle"})])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(s){return a("li",{key:s.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("a",{attrs:{href:"javaScript:;",target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"item.defaultImg"}],on:{click:function(a){return a.preventDefault(),t.goDetail(s.id)}}})])]),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),a("i",[t._v(t._s(s.price))])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"javascript:void(0);",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(s.title))])]),t._m(1,!0),t._m(2,!0)])])})),0)]),a("myPage",{attrs:{pageNo:t.data.pageNo,total:t.shoplist.total,pageSize:t.shoplist.pageSize,continuous:5},on:{changePage:t.changePage}})],1)],1)])],1)},i=[function(){var t=this,a=t._self._c;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],r=(s(7658),s(3822)),c=function(){var t=this,a=t._self._c;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(s){return a("li",{key:s.tmId,on:{click:function(a){return t.getTrade(s.tmId,s.tmName)}}},[t._v(t._s(s.tmName)+" ")])})),0)]),t._m(0)]),t._l(t.attrsList,(function(s){return a("div",{key:s.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(s.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(s.attrValueList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.getAttr(s.attrId,e,s.attrName)}}},[a("a",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)},o=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],l={name:"mySearchSelector",computed:{...(0,r.Se)(["attrsList","trademarkList"])},methods:{getTrade(t,a){const s=`${t}:${a}`;this.$emit("changeTrade",s)},getAttr(t,a,s){const e=`${t}:${a}:${s}`;this.$emit("changePros",e)}}},n=l,d=s(1001),h=(0,d.Z)(n,c,o,!1,null,"47bd2839",null),u=h.exports,v={name:"mySearch",components:{SearchSelector:u},data(){return{data:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""}}},methods:{getData(){this.$store.dispatch("shopList",this.data)},changeTrade(t){this.data.trademark=t,this.getData()},changePros(t){-1===this.data.props.indexOf(t)&&this.data.props.push(t),this.getData()},deleteTrade(){this.data.trademark="",this.getData()},deleteProps(t){this.data.props=this.data.props.filter(((a,s)=>s!==t)),this.getData()},deleteCateName(){this.data.categoryName="",this.data.category1Id="",this.data.category2Id="",this.data.category3Id="",this.getData()},changePage(t){this.data.pageNo=t,this.getData()},changeOrder(t){let a=this.data.order.split(":")[0],s=this.data.order.split(":")[1];a===t?(s="asc"===s?"desc":"asc",this.data.order=`${a}:${s}`,this.getData()):(a="1"===a?"2":"1",this.data.order=`${a}:${s}`,this.getData())},goDetail(t){this.$router.push({name:"detail",params:{skuid:t}})}},beforeMount(){Object.assign(this.data,this.$route.params,this.$route.query)},mounted(){this.getData()},watch:{$route:{handler(){Object.assign(this.data,this.$route.params,this.$route.query),this.getData(),this.category1Id="",this.category2Id="",this.category3Id=""}}},computed:{...(0,r.Se)(["goodsList"]),...(0,r.rn)({shoplist:t=>t.search.shoplist||{}}),isDesc(){const t=this.data.order.split(":")[1];this.data.order.split(":")[1];let a=!1,s=!1;return"desc"===t&&(a=!0),"asc"===t&&(s=!0),{descFlag:a,ascFlag:s}},isPrice(){const t=this.data.order.split(":")[0];let a=!1,s=!1;return"1"===t&&(a=!0),"2"===t&&(s=!0),{isComp:a,isPri:s}}}},g=v,p=(0,d.Z)(g,e,i,!1,null,"7434fc7e",null),m=p.exports}}]);